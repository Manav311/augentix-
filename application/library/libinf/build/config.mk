CONFIG_INF_CFLAGS :=
CONFIG_INF_INCS :=
CONFIG_INF_LIB :=
CONFIG_INF_LIB_PATH :=
CONFIG_INF_SET := n
CONFIG_INF_MSG := ""

ifeq ($(CONFIG_LIBINF_TFLITE), y)
	CONFIG_INF_CFLAGS:=-DUSE_TFLITE
	CONFIG_INF_INCS:=$(TFLITE_PATH)/inc
	CONFIG_INF_LIB_PATH :=$(TFLITE_LIB)
	CONFIG_INF_LIB := -ltensorflow-lite
	CONFIG_INF_SET := y
	CONFIG_INF_MSG := "USE TF LITE"
endif

ifeq ($(CONFIG_LIBINF_TFLITE_OPTIM), y)
	CONFIG_INF_CFLAGS:=-DUSE_TFLITE
	CONFIG_INF_INCS:=$(TFLITE_OPTIM_PATH)/inc
	CONFIG_INF_LIB_PATH :=$(TFLITE_OPTIM_LIB)
	CONFIG_INF_LIB := -ltensorflow-lite-optim
	CONFIG_INF_SET := y
	CONFIG_INF_MSG := "USE TF LITE OPTIM"
endif

ifeq ($(CONFIG_LIBINF_MICROLITE), y)
	CONFIG_INF_CFLAGS:=-DUSE_MICROLITE -DTF_LITE_STATIC_MEMORY
	CONFIG_INF_INCS:=$(MICROLITE_PATH)/include
	CONFIG_INF_LIB_PATH :=$(MICROLITE_LIB)
	CONFIG_INF_LIB :=-ltensorflow-microlite
	CONFIG_INF_SET := y
	CONFIG_INF_MSG := "USE MICROLITE"
endif

ifeq ($(CONFIG_LIBINF_NCNN), y)
	CONFIG_INF_CFLAGS:=-DUSE_NCNN
	CONFIG_INF_INCS:=$(NCNN_INC)
	CONFIG_INF_LIB_PATH :=$(NCNN_LIB)
	CONFIG_INF_LIB := -lncnn
	CONFIG_INF_SET := y
	CONFIG_INF_MSG := "USE NCNN"
endif

ifeq ($(CONFIG_LIBINF_NCNN_COMPACT), y)
	CONFIG_INF_CFLAGS:=-DUSE_NCNN
	CONFIG_INF_INCS:=$(NCNN_COMPACT_INC)
	CONFIG_INF_LIB_PATH :=$(NCNN_COMPACT_LIB)
	CONFIG_INF_LIB := -lncnn-compact
	CONFIG_INF_SET := y
	CONFIG_INF_MSG := "USE NCNN COMPACT"
endif

ifeq ($(CONFIG_LIBINF_NCNN_MINIMAL), y)
	CONFIG_INF_CFLAGS:=-DUSE_NCNN
	CONFIG_INF_INCS:=$(NCNN_MINIMAL_INC)
	CONFIG_INF_LIB_PATH :=$(NCNN_MINIMAL_LIB)
	CONFIG_INF_LIB := $(NCNN_MINIMAL_LIB)/libncnn-minimal.a -pthread
	CONFIG_INF_SET := y
	CONFIG_INF_MSG := "USE NCNN MINIMAL"
endif

ifeq ($(CONFIG_LIBINF_REMOTE_CORE), y)
	CONFIG_INF_CFLAGS += -DINF_ENABLE_REMOTE_CORE
	CONFIG_INF_INCS += $(LIBAMPC_INC)
	CONFIG_INF_LIB_PATH += -L$(LIBAMPC_LIB)
	CONFIG_INF_LIB_PATH += -L$(LIBMETAL_LIB)
	CONFIG_INF_LIB_PATH += -L$(LIBOPENAMP_LIB)
	CONFIG_INF_LIB_PATH += -L$(BUILDROOT_OUTPUT_BUILD_PATH)/libsysfs-2.1.0/lib/.libs
	CONFIG_INF_LIB += -lampc_linux
	CONFIG_INF_LIB += -lmetal
	CONFIG_INF_LIB += -lopen_amp
	CONFIG_INF_LIB += -lsysfs
endif

ifeq ($(CONFIG_INF_SET), n)
	CONFIG_INF_MSG := "Warning: KCONFIG for libinf library is not set!"
	CONFIG_INF_CFLAGS:=-DUSE_TFLITE
endif


CONFIG_INF_LIBS:=$(CONFIG_INF_LIB_PATH) $(CONFIG_INF_LIB)
